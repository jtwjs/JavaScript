## Script 태그

> 브라우저는 HTML 마크업을 파싱하여 DOM 트리를 구성하고 페이지를 렌더링한다. <br>HTML을 파싱하는 동안 브라우저는 `<script>`를 만날 때 마다 파싱을 중지하고 스크립트를 로드하고 실행하게 된다.<br> 이 과정에서 외부 스크립트를 로드하는 네트워크 왕복 시간, 자바스크립트를 실행하는 시간만큼 렌더링이 지연된다.

- script tag를 body의 끝부분에 작성하게될 경우
  - 렌더링 된 이후에 script 를 만나 로드하고 실행하기 때문에 렌더링 타이밍이 더 빨라지게 된다.
  - 스크립트가 DOM을 조작하는 내용을 포함하고 있다면, 스크립트가 렌더링된 DOM에 접근할수 있다.

### Script 태그의 async와 defer 속성

> 외부 스크립트를 불러올때 사용할 수 있는 attribute

- 일부 브라우저에서는 지원하지 않는다.

#### defer

> `<script>`는 다운로드와 실행이 순차적으로 진행되는 것과 달리 **defer**속성을 가진 스크립트는 브라우저가 `<script defer>`를 만났을 때 다운로드를 시작하지만, html파싱을 막지 않고 `</html>`을 만났을 때 실행된다.

- DOMContentLoaded 이벤트 이전에 실행됨
- script를 `<body>`태그의 맨 마지막 줄에 작성하는 것과 같이 스크립트가 DOM을 조작하는 할수 있다.

#### async

> **async**속성을 가진 스크립트는 `<script>, <script defer>`와 마찬가지로 브라우저가 해당 요소를 만났을 때 외부 스크립트를 다운로드를 시작한다.
> <br>defer와 마찬가지로 다운로드 중에 HTML 파싱을 막지 않지만 다운로드가 완료되면 즉시 실행하고 실행하는 동안 브라우저는 HTML 파싱을 멈춘다.

- async 속성의 스크립트에는 DOM을 조작하지 않으며 앞뒤에 로드되고 실행될 스크립트와 의존성이 없는 코드만 포함하는것이 좋다.

### 결론

![script_load](https://user-images.githubusercontent.com/60641307/93711988-66b01e00-fb8d-11ea-9c7d-39599a3f7830.png)
