# 변수 이름 바꾸기

> 명확한 프로그래밍의 핵심은 이름짓기다. 변수는 프로그래머가 하려는 일에 관해 많은 것을 설명해준다. 단, 이름이 잘 지엇을때만 그렇다.

> 특히 이름의 중요성은 그 사용 범위에 영향을 많이 받는다.
> js와같은 동적 타입 언어라면 나는 이름 앞에 타입을 드러내는 문자를 붙이는 스타일을 선호한다. (가령 매개변수 이름을 aCustomer와 같이 짓는다.)

> 함수 호출 한번으로 끝나지 않고 값이 영속되는 필드라면 이름에 더 신경써야 한다. 가장 신중하게 이름 짓는 대상이 바로 이런 필드들..

ex:)

```js
let a = height * width;

//Refactoring
let area = height * width;
```

#### 절차

1. 폭넓게 쓰이는 변수라면 변수 캡슐화하기를 고려한다.
2. 이름을 바꿀 변수를 참조하는 곳을 모두 찾아서 하나씩 변경한다.
   - 다른 코드베이스에서 참조하는 변수는 외부에 공개된 변수이므로 이 리팩터링을 적용할 수 없다.
   - 변수 값이 변하지 않는다면 다른 이름으로 복제본을 만들어서 하나씩 점진적으로 변경한다. 하나씩 바꿀떄마다 테스트..
3. 테스트 한다.

#### 예시

변수 이름바꾸기의 가장 간단한 예는 임시 변수나 인수처럼 유효범위가 함수 하나로 국한된 변수다.

함수 밖에서 참조할 수 있는 변수라면 조심해야 한다. 코드베이스 전체에서 두루 참조할 수도 있다.

```js
let tpHd = "untitled";
//어떤 참조는 다음과 같이 변수를 읽기만 한다.
result += `<h1>${tpHd}</h1>`;
//값을 수정하는 곳도 있다고 해보자.
tpHd = obj["articleTitle"];

//나는 이럴 떄 주로 변수 캡슐화하기로 처리한다.
result += `<h1>${title()}</h1>`;

setTitle(obj["articleTitle"]);

function title() {
  return tpHd;
} //tpHd 변수의 게터
function setTitle(arg) {
  tpHd = arg;
} //tpHd 변수의 세터
//캡슐화 후에는 변수 이름을 바꿔도 된다.
let _title = "undefined";

function title() {
  return _title;
}
function setTitle(arg) {
  _title = arg;
}
//이름을 바꾸기 위해 캡슐화부터 해야할 정도로 널리 사용되는 변수라면 나중을 위해서라도 함수 안에 캡슐화된 채로 두는 편이 좋다고 생각됨
```

#### 예시: 상수 이름 바꾸기

상수 (또는 클라이언트가 볼 때 상수처럼 적용하는 대상)의 이름을 캡슐화하지 않고도 복제방식으로 점진적으로 바꿀 수 있다.

```js
const cpyNm = "애크미 구스베리";
//먼저 원본의 이름을 바꾼 후, 원본의 원래 이름(기존 이름)과 같은 복제본을 만든다.
const companyName = "애크미 구스베리";
const cpyNm = companyName;

//이제 기존 이름(복제본)을 참조하는 코드들을 새 이름으로 점진적으로 바꿀 수 있다. 다 바꿧다면 복제본을 삭제
```
