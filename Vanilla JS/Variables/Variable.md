## Variable; var (변수) 
>ES5까지 변수를 선언하는 유일한 방법은 var 키워드를 사용하는 것이였다.<br> var 키워드로 선언된 변수는 아래와 같은 특징이 있다.<br>이는 다른 언어와 다른 특징으로 주의를 기울이지 않으면 심각한 문제를 일으킨다.

- **함수 레벨 스코프(Function-level scope)**
    - 함수의 코드 블록만을 스코프로 인정한다.
        - 따라서 전역 함수 외부에서 생성한 변수는 모두 전역 변수이다.
        - 이는 전역 변수를 남발할 가능성을 높인다.
    - for 문의 변수 선언문에서 선언한 변수를 for 문의 코드 블록 외부에서 참조할 수 있다.
- var 키워드 생략 허용
    - 암묵적 전역 변수를 양산할 가능성이 큼
- 변수 중복 선언 허용
    - 의도하지 않은 변수값의 변경이 일어날 가능성이 큼
- **변수 호이스팅**
    - 변수를 선언하기 이전에 참조할 수 있다.

> 대부분의 문제는 전역변수로 인해 발생<br>사용이 편리하다는 장점이 있지만 불가피한 상황을 제외하고 사용을 억제해야 한다.<br>ES6은 이러한 var 키워드의 단점을 보완하기 위해 let과 const 키워드를 도입하였다.

#### 함수 레벨 스코프(Function-level scope)**
- 함수 내에서 선언된 변수는 함수 내에서만 유효하며 함수 외부에서는 참조할 수 없다.
    - 즉, 함수 내부에서 선언한 변수는 지역 변수이며 함수 외부에서 선언한 변수는 모두 전역변수이다.
- ```javascript
    //var = 함수 레벨 스코프
    var foo = 123; // 전역변수
    console.log(foo); // 123
    {
        var foo = 456; // 전역 변수
    }
    console.log(foo); //456
  ```
#### 호이스팅 (Hoisting)
- **var 키워드로 선언된 변수는 선언 단계와 초기화 단계가 한번에 이루어짐**
    - 즉, 스코프에 변수를 등록(선언단계)하고 메모리에 변수를 위한 공간을 확보한 후,undefined로 초기화(초기화 단계) 한다.
    - 따라서 변수 선언문 이전에 변수에 접근하여도 스코프에 변수가 존재하기 때문에 에러가 발생하지 않는다.
    - 다만 undefined를 반환한다. 이후 변수 할당문에 도달하면 비로소 값이 할당된다.
    - 이러한 현상을 **변수 호이스팅(variable Hoisting)**이라 한다.
    - ```javascript
        //스코프의 선두에서 선언 단계와 초기화 단계가 실행됨
        // 따라서 변수 선언문 이전에 변수를 참조할 수 있다.
        console.log(foo); //undefined

        var foo;
        consoel.log(foo); //undefined
        
        foo = 1; // 할당문에서 할당 단계 실행됨
        console.log(foo); //1

      ```
#### 전역변수
- var 키워드로 선언된 변수를 전역 변수로 사용하면 전역 객체의 프로퍼티가 된다.
    - ```javascript
        var foo = 123; //전역변수
        console.log(window.foo); // 123
      ```
#### var VS let VS const
- **변수 선언에는 기본적으로 const를 사용**하고 **let은 재할당이 필요한 경우에 한정해 사용**하는 것이 좋다.
    - 원시 값의 경우, 가급적 상수를 사용하는 편이 좋다.
    - 객체를 재할당하는 경우는 생각보다 흔하지 않다.
    - const 키워드를 사용하면 의도치 않은 재할당을 방지해 주기 때문에 보다 안전하다.
- **ES6을 사용한다면 var 키워드는 사용하지 않는다.**
- **재할당이 필요한 경우에 한정해 let 키워드를 사용** 
    - 이 때 변수의 스코프는 최대한 좁게 만듦
- **변경이 발생하지 않는(재할당이 필요없는 상수) 원시 값과 객체에는 const 키워드를 사용**
    - const 키워드는 재할당을 금지하므로 var, let보다 안전